<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stack Visualizer</title>
    <link rel="stylesheet" href="stack_styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="index.html" class="back-button">
                <i class="fas fa-arrow-left"></i>
                Back to Home
            </a>
            <h1><i class="fas fa-layer-group"></i> Stack Visualizer</h1>
            <button class="theme-toggle">
                <i class="fas fa-moon"></i>
            </button>
        </div>
        
        <div class="visualization">
            <div class="stack-container">
                <div class="section-header">
                    <h2>Stack View</h2>
                    <div class="stack-info">
                        Size: <span id="stackSize">0</span> / <span id="stackMaxSize">10</span>
                    </div>
                </div>
                <div class="stack-visualization" id="stackVisual">
                    <div class="empty-stack">Stack is empty</div>
                </div>
            </div>
            
            <div class="operations">
                <h2>Operations</h2>
                <div class="op-input">
                    <input type="number" id="valueInput" placeholder="Enter a value">
                </div>
                <div class="op-buttons">
                    <button id="pushBtn" class="push-btn">
                        <i class="fas fa-arrow-down"></i> Push
                    </button>
                    <button id="popBtn" class="pop-btn">
                        <i class="fas fa-arrow-up"></i> Pop
                    </button>
                    <button id="peekBtn" class="peek-btn">
                        <i class="fas fa-eye"></i> Peek
                    </button>
                    <button id="clearBtn" class="clear-btn">
                        <i class="fas fa-trash"></i> Clear
                    </button>
                </div>
                <div class="stack-info" id="opResult">
                    Operation result will appear here
                </div>
            </div>
        </div>
        
        <div class="code-view">
            <div class="section-header">
                <h2><i class="fas fa-code"></i> Stack Implementation</h2>
            </div>
            <pre class="code"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<span class="keyword">class</span> <span class="type">Stack</span> {
<span class="keyword">private</span>:
    std::vector&lt;T&gt; elements;
    <span class="type">size_t</span> maxSize;

<span class="keyword">public</span>:
    <span class="comment">// Constructor</span>
    Stack(<span class="type">size_t</span> size = 10) : maxSize(size) {}

    <span class="comment">// Check if stack is empty</span>
    <span class="type">bool</span> isEmpty() <span class="keyword">const</span> {
        <span class="keyword">return</span> elements.empty();
    }

    <span class="comment">// Check if stack is full</span>
    <span class="type">bool</span> isFull() <span class="keyword">const</span> {
        <span class="keyword">return</span> elements.size() >= maxSize;
    }

    <span class="comment">// Push element to stack</span>
    <span class="type">void</span> push(<span class="keyword">const</span> T& value) {
        <span class="keyword">if</span> (isFull()) {
            <span class="keyword">throw</span> std::overflow_error(<span class="string">"Stack overflow"</span>);
        }
        elements.push_back(value);
    }

    <span class="comment">// Pop element from stack</span>
    T pop() {
        <span class="keyword">if</span> (isEmpty()) {
            <span class="keyword">throw</span> std::underflow_error(<span class="string">"Stack underflow"</span>);
        }
        T value = elements.back();
        elements.pop_back();
        <span class="keyword">return</span> value;
    }

    <span class="comment">// Peek at the top element</span>
    T peek() <span class="keyword">const</span> {
        <span class="keyword">if</span> (isEmpty()) {
            <span class="keyword">throw</span> std::underflow_error(<span class="string">"Stack underflow"</span>);
        }
        <span class="keyword">return</span> elements.back();
    }

    <span class="comment">// Get current size of stack</span>
    <span class="type">size_t</span> size() <span class="keyword">const</span> {
        <span class="keyword">return</span> elements.size();
    }

    <span class="comment">// Clear all elements from stack</span>
    <span class="type">void</span> clear() {
        elements.clear();
    }
};</pre>
        </div>
        
        <footer>
            <p>Created with <i class="fas fa-heart"></i> for Data Structures Learning</p>
            <p>&copy; 2025 Data Structure Visualizer</p>
        </footer>
    </div>

    <script src="stack_wasm.js"></script>
    <script>
        // Theme toggle functionality
        const themeToggle = document.querySelector('.theme-toggle');
        const body = document.body;
        
        // Check for saved theme preference
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            body.classList.add('dark-theme');
            themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
        }

        // Toggle theme on click
        themeToggle.addEventListener('click', () => {
            body.classList.toggle('dark-theme');
            const isDark = body.classList.contains('dark-theme');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
            themeToggle.innerHTML = isDark ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
        });

        // Stack visualization functionality
        document.addEventListener('DOMContentLoaded', () => {
            const stackVisual = document.getElementById('stackVisual');
            const valueInput = document.getElementById('valueInput');
            const pushBtn = document.getElementById('pushBtn');
            const popBtn = document.getElementById('popBtn');
            const peekBtn = document.getElementById('peekBtn');
            const clearBtn = document.getElementById('clearBtn');
            const opResult = document.getElementById('opResult');
            const stackSize = document.getElementById('stackSize');
            const stackMaxSize = document.getElementById('stackMaxSize');

            let stack = [];
            const maxSize = 10;
            stackMaxSize.textContent = maxSize;

            function updateVisualization() {
                stackVisual.innerHTML = '';
                if (stack.length === 0) {
                    stackVisual.innerHTML = '<div class="empty-stack">Stack is empty</div>';
                } else {
                    stack.forEach((value, index) => {
                        const item = document.createElement('div');
                        item.className = 'stack-item';
                        item.textContent = value;
                        stackVisual.appendChild(item);
                    });
                }
                stackSize.textContent = stack.length;
            }

            pushBtn.addEventListener('click', () => {
                const value = parseInt(valueInput.value);
                if (isNaN(value)) {
                    opResult.textContent = 'Please enter a valid number';
                    return;
                }
                if (stack.length >= maxSize) {
                    opResult.textContent = 'Stack overflow! Cannot push more elements.';
                    return;
                }
                stack.push(value);
                updateVisualization();
                valueInput.value = '';
                opResult.textContent = `Pushed ${value} to stack`;
            });

            popBtn.addEventListener('click', () => {
                if (stack.length === 0) {
                    opResult.textContent = 'Stack underflow! Cannot pop from empty stack.';
                    return;
                }
                const value = stack.pop();
                updateVisualization();
                opResult.textContent = `Popped ${value} from stack`;
            });

            peekBtn.addEventListener('click', () => {
                if (stack.length === 0) {
                    opResult.textContent = 'Stack is empty! Nothing to peek.';
                    return;
                }
                const value = stack[stack.length - 1];
                opResult.textContent = `Top element is ${value}`;
                const topItem = stackVisual.lastChild;
                topItem.classList.add('highlighted');
                setTimeout(() => topItem.classList.remove('highlighted'), 1500);
            });

            clearBtn.addEventListener('click', () => {
                stack = [];
                updateVisualization();
                opResult.textContent = 'Stack cleared';
            });

            valueInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    pushBtn.click();
                }
            });

            updateVisualization();
        });
    </script>
</body>
</html> 